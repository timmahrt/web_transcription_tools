(function(e){function t(t){for(var n,a,c=t[0],s=t[1],l=t[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,c=1;c<i.length;c++){var s=i[c];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},r={app:0},o=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/web_transcription_tools/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0619":function(e,t,i){},1:function(e,t){},2:function(e,t){},2164:function(e,t,i){},"4c00":function(e,t,i){"use strict";i("a0f6")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),r={id:"app"};function o(e,t,i,o,a,c){var s=Object(n["h"])("TextgridProcessor");return Object(n["f"])(),Object(n["c"])("div",r,[Object(n["e"])(s)])}var a={class:"textgrid-processor"},c=Object(n["e"])("span",{class:"title-text"}," Textgrid Duration Extractor ",-1),s=Object(n["e"])("div",{class:"simple-description"}," This is a tool for automatically extracting and aggregating the durations of labeled intervals in Textgrid transcripts. ",-1),l={class:"preamble"},d=Object(n["e"])("ol",{class:"instructions"},[Object(n["e"])("li",null,"Drop your textgrids into the box below (one at a time, or all at once)."),Object(n["e"])("li",null,"Textgrids with the same tier names will appear grouped together below (point tiers are not included in the analysis)."),Object(n["e"])("li",null,"For one group, choose a pivot tier."),Object(n["e"])("li",null,"Optionally, you can unselect tiers that you don't want to appear in the output."),Object(n["e"])("li",null,' Click "Get Durations". This will download a .csv file with durations for each of the selected tiers. One row will appear for each labeled segment in your textgrid. '),Object(n["e"])("li",null,"The output is in the form: 'file name, pivot tier name, pivot label, pivot start time, pivot stop time, pivot duration, tier1 name, tier1 ")],-1),u=Object(n["e"])("span",null,[Object(n["d"])(" Don't have any .TextGrid files? Feel free to play with these: "),Object(n["e"])("ul",null,[Object(n["e"])("li",null,[Object(n["e"])("a",{href:"./assets/bobby.TextGrid",download:""},"bobby.TextGrid")]),Object(n["e"])("li",null,[Object(n["e"])("a",{href:"./assets/mary.TextGrid",download:""},"mary.TextGrid")]),Object(n["e"])("li",null,[Object(n["e"])("a",{href:"./assets/conversation.TextGrid",download:""},"conversation.TextGrid")])])],-1),f=Object(n["e"])("span",{class:"notice"}," This tool is powered by your computer. After the page is loaded, you can go offline and continue to use the tool as long as this page remains open. ",-1);function b(e,t,i,r,o,b){var p=Object(n["h"])("textgrid-loader"),h=Object(n["h"])("textgrid-container");return Object(n["f"])(),Object(n["c"])("div",a,[c,s,Object(n["e"])("div",l,[d,Object(n["e"])(p,{onTextgridLoaded:b.addTextgrid},null,8,["onTextgridLoaded"])]),(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["g"])(b.sortedTextgridSets,(function(e){var t=e.tierNameList,i=e.textgridNameList,r=e.tgDict,o=e.id;return Object(n["f"])(),Object(n["c"])("div",{key:o},[Object(n["e"])(h,{"tier-name-list":t,"fn-name-list":i,"tg-dict":r},null,8,["tier-name-list","fn-name-list","tg-dict"])])})),128)),u,f])}i("4de4");var p={class:"container"},h={class:"column file-name-column"},m=Object(n["e"])("div",{class:"table-column-header"},"List of file names:",-1),g={class:"table-column-content"},O={class:"column tier-selection-column"},v=Object(n["e"])("div",{class:"table-column-header"},"Base tier:",-1),j={class:"table-column-content"},x={class:"column pivot-tier-selection-column"},y=Object(n["e"])("div",{class:"table-column-header"},"Pivot tier:",-1),L={class:"column"};function T(e,t,i,r,o,a){var c=Object(n["h"])("tier-name-list");return Object(n["f"])(),Object(n["c"])("div",p,[Object(n["e"])("div",h,[m,Object(n["e"])("div",g,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["g"])(i.fnNameList,(function(e){return Object(n["f"])(),Object(n["c"])("div",{key:e,textContent:Object(n["i"])(e)},null,8,["textContent"])})),128))])]),Object(n["e"])("div",O,[v,Object(n["e"])("div",j,[Object(n["n"])(Object(n["e"])(c,{"tier-name-list":i.tierNameList,onInterface:a.updateSelectedTiers},null,8,["tier-name-list","onInterface"]),[[n["m"],i.tierNameList.length>0]])])]),Object(n["e"])("div",x,[y,Object(n["n"])(Object(n["e"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.pivotTier=e})},[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["g"])(i.tierNameList,(function(e){return Object(n["f"])(),Object(n["c"])("option",{name:e,key:e},[Object(n["e"])("span",{textContent:Object(n["i"])(e)},null,8,["textContent"])],8,["name"])})),128))],512),[[n["k"],o.pivotTier]])]),Object(n["e"])("div",L,[Object(n["n"])(Object(n["e"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.fileName=e}),placeholder:o.defaultFileName,class:"filename-textbox"},null,8,["placeholder"]),[[n["l"],o.fileName]]),Object(n["e"])("button",{class:"download-button",onClick:t[3]||(t[3]=function(e){return a.download()})}," Download CSV ")])])}i("a15b"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("ddb0"),i("2b3d");function N(e,t,i,r,o,a){return Object(n["f"])(),Object(n["c"])("div",null,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["g"])(i.tierNameList,(function(e){return Object(n["f"])(),Object(n["c"])("div",{key:e},[Object(n["e"])("div",null,[Object(n["n"])(Object(n["e"])("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.checkedList=e}),onChange:t[2]||(t[2]=function(){return a.emitResults&&a.emitResults.apply(a,arguments)})},null,40,["id","value"]),[[n["j"],o.checkedList]]),Object(n["e"])("label",{for:e,textContent:Object(n["i"])(e)},null,8,["for","textContent"])])])})),128))])}i("caad"),i("2532");var w={data:function(){return{checkedList:this.tierNameList}},props:{tierNameList:{type:Array,required:!0}},computed:{orderedCheckedItems:function(){var e=this;return this.tierNameList.filter((function(t){return e.checkedList.includes(t)}))}},methods:{emitResults:function(){this.$emit("interface",this.orderedCheckedItems)}}};w.render=N;var S=w,D=i("4eac"),k={name:"TextgridContainer",data:function(){return{defaultFileName:"auto-extracted_durations.csv",fileName:"auto-extracted_durations.csv",contentType:"text/plain",pivotTier:this.tierNameList.length>0?this.tierNameList[0]:"",selectedTiers:this.tierNameList}},computed:{saveFileName:function(){return""!==this.fileName?this.fileName:this.defaultFileName}},components:{TierNameList:S},props:{tierNameList:{type:Array,required:!0},fnNameList:{type:Array,required:!0},tgDict:{type:Object,required:!0}},methods:{updateSelectedTiers:function(e){this.selectedTiers=e},download:function(){for(var e=[],t=!0,i=0;i<this.fnNameList.length;i++){var n=this.fnNameList[i],r=Object(D["b"])(this.tgDict[n],this.pivotTier,this.selectedTiers,t);t=!1,r.length>0&&(r=n+","+r,r=r.replace(/(\n)+/g,"\n"+n+","),e.push(r))}var o=e.join("\n"),a=document.createElement("a");document.body.appendChild(a);var c=new Blob([o],{type:this.contentType});a.href=URL.createObjectURL(c),a.setAttribute("download",this.saveFileName),a.click()}}};i("4c00");k.render=T;var C=k,F={class:"dropzone",id:"dropzone"};function P(e,t,i,r,o,a){return Object(n["f"])(),Object(n["c"])("div",F," Drop textgrid files here ")}i("b0c0");var _={mounted:function(){var e=document.getElementById("dropzone");e.ondrop=this.onDrop,e.ondragover=this.onDragover,e.ondragleave=this.onDragleave},methods:{loadFromLocal:function(e,t){var i=new FileReader;console.log(i),i.onload=function(i){console.log(e),console.log(i);var n=i.target.result;t(e,n)},i.readAsText(e)},onDrop:function(e){e.preventDefault(),this.className="dropzone";var t=e.dataTransfer.files;this.textgridFnList=[];for(var i=0;i<t.length;i++){var n=t[i].name;this.textgridFnList.push(n),n.toLowerCase().includes(".textgrid")&&this.loadFromLocal(t[i],this.tgLoaded)}},onDragover:function(){return this.className="dropzone dragover",!1},onDragleave:function(){return this.className="dropzone",!1},tgLoaded:function(e,t){var i=Object(D["a"])(t);this.$emit("textgrid-loaded",e.name,i)}}};i("ba6f");_.render=P;var A=_,G=i("7746"),q={name:"TextgridProcessor",data:function(){return{textgridSets:[],textgridFnList:[]}},components:{TextgridContainer:C,TextgridLoader:A},computed:{sortedTextgridSets:function(){function e(e,t){return e<t?-1:e>t?1:0}for(var t=[],i=0;i<this.textgridSets.length;i++){var n=this.textgridSets[i]["tierNameList"],r=this.textgridSets[i]["textgridNameList"],o=this.textgridSets[i]["tgDict"];r.sort(e),t.push({tierNameList:n,textgridNameList:r,tgDict:o})}return t}},methods:{listsAreEqual:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},addTextgrid:function(e,t){var i=0,n=t.tierNameList.filter((function(e,i){return t.tierDict[e].tierType===G["a"]}));if(0===this.textgridSets.length)this.textgridSets.push({tierNameList:n,textgridNameList:[e],tgDict:{}});else{i=null;for(var r=0;r<this.textgridSets.length;r++)this.listsAreEqual(n,this.textgridSets[r]["tierNameList"])&&(i=r);if(null===i)this.textgridSets.push({tierNameList:n,textgridNameList:[e],tgDict:{}}),i=this.textgridSets.length-1;else{if(e in this.textgridSets[i]["tgDict"])return;this.textgridSets[i]["textgridNameList"].push(e)}}this.textgridSets[i]["tgDict"][e]=t}}};i("e793");q.render=b;var z=q,R={name:"App",components:{TextgridProcessor:z}};i("c1b2");R.render=o;var E=R;Object(n["b"])(E).mount("#app")},"5d4d":function(e,t,i){},a0f6:function(e,t,i){},ba6f:function(e,t,i){"use strict";i("0619")},c1b2:function(e,t,i){"use strict";i("2164")},e793:function(e,t,i){"use strict";i("5d4d")}});
//# sourceMappingURL=app.4aa0a828.js.map